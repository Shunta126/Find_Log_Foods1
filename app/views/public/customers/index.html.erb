<div class="container-field mt-3 mb-6">
  <div class="row justify-content-end mr-5">
    <div class="search_form">
    <%= form_with url: search_path, local: true, method: :get do |f| %>
        <%= f.label :会員氏名 %>
        <%= f.hidden_field :range, value: 'customer' %>
        <%= f.text_field :word, size: "13" %>
        <%= f.select :search, options_for_select([["完全一致","perfect_match"], ["部分一致","partial_match"]]) %>
        <%= f.submit "検索", class: "button1" %>
      <% end %>
    </div>
  </div>

  <div class="row justify-content-center">
    <h3><strong>会員一覧</strong></h3>
  </div>

  <div class="row justify-content-center">
    <P><i class="fa-solid fa-user-check fa-sm" style="color: #1fe01f;"></i>=会員</p>
    <p class="icon ml-3"><i class="fa-solid fa-user-check fa-sm" style="color: #8b8d8b;"></i>=退会済み</p>
  </div>

  <div class="row justify-content-center">
    <div class="col-9">
      <div class="row justify-content-center">
        <% @customers.each do |customer| %>
            <div class="col-3 mb-5">
              <div class="p-3 box-shadow">
                <% if customer.is_deleted == false %>
                 <i class="fa-solid fa-user-check fa-sm" style="color: #1fe01f;"></i>
                <% else %>
                 <i class="fa-solid fa-user-check fa-sm" style="color: #8b8d8b;"></i>
                <% end %>

                <%= link_to customer_path(customer.id) do%>
                  <div class="content text-center">
                    <div class="img-container">
                      <% if customer.image.attached? %>
                        <%= image_tag customer.image, size: "150x150", style: "object-fit: cover; border-radius: 50%; border: 3px solid #99CCCC;" %>
                      <% else %>
                        <%= image_tag 'no_image.jpg', size: "150x150", style: "object-fit: cover; border-radius: 50%; border: 3px solid #99CCCC;" %>
                      <% end %>
                    </div>
                  </div>
                <% end %>
                <div class="content text-center">
                  <P><strong>年齢</strong><br><%= customer.age %><br>
                  <strong>名前</strong><br><%= link_to customer_path(customer.id) do%>
                  <%= customer.name %>
                   <% end %>
                  </P>
                </div>
                <div class="content text-center">
                  <% if current_customer != customer %>
                    <% if current_customer.following?(customer) %>
                      <%= link_to "フォロー外す", customer_relationships_path(customer.id), method: :delete, class: "button-unfollow" %>
                    <% else %>
                      <%= link_to "フォローする", customer_relationships_path(customer.id), method: :post, class:"button-follow" %>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div>
        <% end %>
      </div>
    </div>
  </div>
  <div class="row justify-content-center">
    <%= paginate @customers %>
  </div>
</div>

<a href="#top" class="scroll-top-btn">
　<i class="fa-solid fa-circle-chevron-up fa-xl" style="color: #ec7322;"></i>
</a>